@Component
export struct MarketPage {
  @State selectedCategory: string = 'ÂÖ®ÈÉ®'
  @State selectedTab: number = 1 // ËèúÂ∏ÇÂú∫tabÈÄâ‰∏≠

  build() {
    Column() {
      // È°∂ÈÉ®ÂÆâÂÖ®Âå∫Âüü
      // Blank()
      //   .height(44)

      // È°∂ÈÉ®ÂØºËà™Ê†è
      Row() {
        Text('ËèúÂ∏ÇÂú∫ÂØºË¥≠')
          .fontSize(20)
          .fontWeight(FontWeight.Bold)
          .fontColor('#333')
        
        Blank()
        
        Row() {
          Image($r('app.media.ic_market_search'))
            .width(24)
            .height(24)
            .fillColor('#666')
          Image($r('sys.media.ohos_ic_public_more'))
            .width(24)
            .height(24)
            .fillColor('#666')
            .margin({left: 12})
        }
      }
      .width('100%')
      .height(50)
      .padding({left: 16, right: 16})
      .backgroundColor('#FFFFFF')
      
      // ÂàÜÈöîÁ∫ø
      Divider()
        .color('#E0E0E0')
        .strokeWidth(1)

      // ÂàÜÁ±ªÁ≠õÈÄâÂå∫
      Scroll() {
        Row() {
          ForEach(['ÂÖ®ÈÉ®', 'Ëî¨Ëèú', 'Ê∞¥Êûú', 'ËÇâÁ±ª', 'Êµ∑È≤ú', 'Ë∞ÉÊñô', 'Á≤ÆÊ≤π', 'Ë±ÜÂà∂ÂìÅ'], (category: string) => {
            Text(category)
              .fontSize(14)
              .fontColor(this.selectedCategory === category ? '#FFFFFF' : '#333')
              .backgroundColor(this.selectedCategory === category ? '#4CAF50' : '#F5F5F5')
              .borderRadius(16)
              .padding({left: 16, right: 16, top: 8, bottom: 8})
              .margin({right: 10})
              .onClick(() => {
                this.selectedCategory = category
              })
          })
        }
        .padding({left: 16, right: 16, top: 12, bottom: 6})
      }
      .scrollable(ScrollDirection.Horizontal)
      .scrollBar(BarState.Off)

      // ÂïÜÊà∑Êé®ËçêÂå∫
      Column() {
        Text('üè™ Êé®ËçêÂïÜÊà∑')
          .fontSize(18)
          .fontWeight(FontWeight.Bold)
          .fontColor('#333')
          .alignSelf(ItemAlign.Start)
          .margin({left: 16, top: 16, bottom: 12})

        Column() {
          // ÂïÜÊà∑Âç°Áâá1
          Row() {
            Image('https://picsum.photos/200/160?random=1')
              .width(100)
              .height(80)
              .borderRadius(8)
            
            Column() {
              Text('ËÄÅÁéãËî¨ËèúÂ∫ó')
                .fontSize(16)
                .fontWeight(FontWeight.Bold)
                .fontColor('#333')
                .alignSelf(ItemAlign.Start)
              
              Text('Êñ∞È≤úËî¨ËèúÔºåÊØèÊó•Áõ¥‰æõÔºå‰ª∑Ê†ºÂÆûÊÉ†')
                .fontSize(12)
                .fontColor('#666')
                .margin({top: 4})
                .alignSelf(ItemAlign.Start)
              
              Text('Â•ΩËØÑÁéá98%')
                .fontSize(12)
                .fontColor('#4CAF50')
                .margin({top: 8})
                .alignSelf(ItemAlign.Start)
            }
            .alignItems(HorizontalAlign.Start)
            .margin({left: 12})
            .layoutWeight(1)
          }
          .width('100%')
          .height(100)
          .backgroundColor('#FFFFFF')
          .borderRadius(8)
          .padding(12)
          .margin({left: 16, right: 16, bottom: 10})
          .shadow({
            radius: 4,
            color: '#E0E0E0',
            offsetX: 0,
            offsetY: 2
          })

          // ÂïÜÊà∑Âç°Áâá2
          Row() {
            Image('https://picsum.photos/200/160?random=2')
              .width(100)
              .height(80)
              .borderRadius(8)
            
            Column() {
              Text('Êµ∑È≤úÊâπÂèëÂ∏ÇÂú∫')
                .fontSize(16)
                .fontWeight(FontWeight.Bold)
                .fontColor('#333')
                .alignSelf(ItemAlign.Start)
              
              Text('Êñ∞È≤úÊµ∑È≤úÔºåÊ¥ªÈ±ºÊ¥ªËôæÔºåÂìÅË¥®‰øùËØÅ')
                .fontSize(12)
                .fontColor('#666')
                .margin({top: 4})
                .alignSelf(ItemAlign.Start)
              
              Text('Â•ΩËØÑÁéá95%')
                .fontSize(12)
                .fontColor('#4CAF50')
                .margin({top: 8})
                .alignSelf(ItemAlign.Start)
            }
            .alignItems(HorizontalAlign.Start)
            .margin({left: 12})
            .layoutWeight(1)
          }
          .width('100%')
          .height(100)
          .backgroundColor('#FFFFFF')
          .borderRadius(8)
          .padding(12)
          .margin({left: 16, right: 16, bottom: 10})
          .shadow({
            radius: 4,
            color: '#E0E0E0',
            offsetX: 0,
            offsetY: 2
          })

          // ÂïÜÊà∑Âç°Áâá3
          Row() {
            Image('https://picsum.photos/200/160?random=3')
              .width(100)
              .height(80)
              .borderRadius(8)
            
            Column() {
              Text('Ê∞¥ÊûúÁ≤æÂìÅÂ∫ó')
                .fontSize(16)
                .fontWeight(FontWeight.Bold)
                .fontColor('#333')
                .alignSelf(ItemAlign.Start)
              
              Text('ËøõÂè£Ê∞¥ÊûúÔºåÁ≤æÂìÅÊ∞¥ÊûúÔºåÊñ∞È≤úÁõ¥Ëææ')
                .fontSize(12)
                .fontColor('#666')
                .margin({top: 4})
                .alignSelf(ItemAlign.Start)
              
              Text('Â•ΩËØÑÁéá96%')
                .fontSize(12)
                .fontColor('#4CAF50')
                .margin({top: 8})
                .alignSelf(ItemAlign.Start)
            }
            .alignItems(HorizontalAlign.Start)
            .margin({left: 12})
            .layoutWeight(1)
          }
          .width('100%')
          .height(100)
          .backgroundColor('#FFFFFF')
          .borderRadius(8)
          .padding(12)
          .margin({left: 16, right: 16})
          .shadow({
            radius: 4,
            color: '#E0E0E0',
            offsetX: 0,
            offsetY: 2
          })
        }
      }

      Blank()

      // ÁÉ≠Èó®ÂïÜÂìÅÊé®ËçêÂå∫
      Column() {
        Row() {
          Text('üî• ÁÉ≠Èó®ÂïÜÂìÅ')
            .fontSize(20)
            .fontWeight(FontWeight.Bold)
            .fontColor('#333')
          Blank()
          Text('Êü•ÁúãÊõ¥Â§ö >')
            .fontSize(14)
            .fontColor('#888')
        }
        .width('100%')
        .padding({left: 16, right: 16, top: 16})

        // ÂïÜÂìÅÁΩëÊ†ºÔºàÂåÖË£π‰∏∫ÂèØÊªöÂä®ÂàóË°®Ôºå‰øùÁïôÂéüÂç°ÁâáÊ†∑ÂºèÔºâ
        Scroll() {
          Flex({ wrap: FlexWrap.Wrap, justifyContent: FlexAlign.SpaceBetween }) {
            // ÂïÜÂìÅ1
            Column() {
              Image('https://picsum.photos/200/200?random=4')
                .width('100%')
                .aspectRatio(1)
                .borderRadius(8)
              
              Text('Êñ∞È≤úË•øÁ∫¢Êüø')
                .fontSize(14)
                .fontColor('#333')
                .margin({top: 8})
                .alignSelf(ItemAlign.Start)
              
              Text('¬•3.50/Êñ§')
                .fontSize(14)
                .fontWeight(FontWeight.Bold)
                .fontColor('#E53935')
                .margin({top: 4})
                .alignSelf(ItemAlign.Start)
              
              Button('Ë¥≠‰π∞')
                .fontSize(12)
                .fontColor('#FFFFFF')
                .backgroundColor('#4CAF50')
                .borderRadius(6)
                .width('100%')
                .height(32)
                .margin({top: 8})
            }
            .width('45%')
            .backgroundColor('#FFFFFF')
            .borderRadius(8)
            .padding(12)
            .margin({bottom: 16})
            .shadow({
              radius: 4,
              color: '#E0E0E0',
              offsetX: 0,
              offsetY: 2
            })

            // ÂïÜÂìÅ2
            Column() {
              Image('https://picsum.photos/200/200?random=5')
                .width('100%')
                .aspectRatio(1)
                .borderRadius(8)
              
              Text('ÊúâÊú∫ËÉ°ËêùÂçú')
                .fontSize(14)
                .fontColor('#333')
                .margin({top: 8})
                .alignSelf(ItemAlign.Start)
              
              Text('¬•4.20/Êñ§')
                .fontSize(14)
                .fontWeight(FontWeight.Bold)
                .fontColor('#E53935')
                .margin({top: 4})
                .alignSelf(ItemAlign.Start)
              
              Button('Ë¥≠‰π∞')
                .fontSize(12)
                .fontColor('#FFFFFF')
                .backgroundColor('#4CAF50')
                .borderRadius(6)
                .width('100%')
                .height(32)
                .margin({top: 8})
            }
            .width('45%')
            .backgroundColor('#FFFFFF')
            .borderRadius(8)
            .padding(12)
            .margin({bottom: 16})
            .shadow({
              radius: 4,
              color: '#E0E0E0',
              offsetX: 0,
              offsetY: 2
            })

            // ÂïÜÂìÅ3
            Column() {
              Image('https://picsum.photos/200/200?random=6')
                .width('100%')
                .aspectRatio(1)
                .borderRadius(8)
              
              Text('Êñ∞È≤úÂúüË±Ü')
                .fontSize(14)
                .fontColor('#333')
                .margin({top: 8})
                .alignSelf(ItemAlign.Start)
              
              Text('¬•2.80/Êñ§')
                .fontSize(14)
                .fontWeight(FontWeight.Bold)
                .fontColor('#E53935')
                .margin({top: 4})
                .alignSelf(ItemAlign.Start)
              
              Button('Ë¥≠‰π∞')
                .fontSize(12)
                .fontColor('#FFFFFF')
                .backgroundColor('#4CAF50')
                .borderRadius(6)
                .width('100%')
                .height(32)
                .margin({top: 8})
            }
            .width('45%')
            .backgroundColor('#FFFFFF')
            .borderRadius(8)
            .padding(12)
            .margin({bottom: 16})
            .shadow({
              radius: 4,
              color: '#E0E0E0',
              offsetX: 0,
              offsetY: 2
            })

            // ÂïÜÂìÅ4
            Column() {
              Image('https://picsum.photos/200/200?random=7')
                .width('100%')
                .aspectRatio(1)
                .borderRadius(8)
              
              Text('Êñ∞È≤úÁôΩËèú')
                .fontSize(14)
                .fontColor('#333')
                .margin({top: 8})
                .alignSelf(ItemAlign.Start)
              
              Text('¬•1.50/Êñ§')
                .fontSize(14)
                .fontWeight(FontWeight.Bold)
                .fontColor('#E53935')
                .margin({top: 4})
                .alignSelf(ItemAlign.Start)
              
              Button('Ë¥≠‰π∞')
                .fontSize(12)
                .fontColor('#FFFFFF')
                .backgroundColor('#4CAF50')
                .borderRadius(6)
                .width('100%')
                .height(32)
                .margin({top: 8})
            }
            .width('45%')
            .backgroundColor('#FFFFFF')
            .borderRadius(8)
            .padding(12)
            .margin({bottom: 16})
            .shadow({
              radius: 4,
              color: '#E0E0E0',
              offsetX: 0,
              offsetY: 2
            })
          }
          .width('100%')
          .padding({left: 16, right: 16})
        }
        .height(420)
        .scrollable(ScrollDirection.Vertical)
        .scrollBar(BarState.Off)
      }
    }
    .width('100%')
    .height('100%')
    .backgroundColor('#FFFFFF')
  }
}